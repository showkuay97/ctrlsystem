{% extends 'layout.html' %}
{% load widget_tweaks %}
{% block content %}
<div class="container-fluid">
    <div class="card shadow">
        <div class="card-header py-3">
            <p class="text-center text-primary m-0 font-weight-bold">แจ้งซ่อมเครื่องห้องปฏิบัติการ {{select}}</p>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-12 text-nowrap">
                    <div id="dataTable_length" class="dataTables_length" aria-controls="dataTable">
                        <form action="/pcstudent/" method="POST">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-lg-3 col-md-4 col-sm-4" style="margin: 0px 10px; display:flex;">
                                    ห้องปฏิบัติการ{{form}}
                                </div>
                                <div class="col-lg-3 col-md-2 col-sm-2" style="margin: 0px 10px;">
                                    <input type="submit" class="btn-group-toggle" value="เลือก">
                                </div>
                            </div>

                            <!-- <label>ห้องปฏิบัติการ<select name="selections"
                                class="form-control form-control-sm custom-select custom-select-sm"
                                style="width: 70px;margin-left: 20px;">  
                                <option value="201">201</option>
                                <option value="202">202</option>
                                <option value="203">203</option>
                                <option value="204">204</option>
                                <option value="205">205</option>
                                <option value="206">206</option>
                                <option value="207">207</option>
                                <option value="208">208</option> 
                            </select>&nbsp;</label> -->

                        </form>
                    </div>
                </div>
            </div>
            <div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">
                <table class="table dataTable my-0" id="dataTable">
                    <thead>
                        <tr>
                            <th class="text-center">เครื่องที่</th>
                            <th class="text-center">รูปเครื่อง</th>
                            <th class="text-center">สถานะ</th>
                            <th class="text-center">อาการเครื่อง</th>
                            <th class="text-center">วันที่แจ้งซ่อม</th>
                            <th class="text-center">วันที่รับเรื่อง</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for items in pcs %}
                        <tr>
                            <td class="text-center">{{items.No_cmpt}}</td>
                            <td class="text-center"><img class="rounded mr-2" width="30" height="30"
                                    src="\static\assets\img\pc1.png"
                                    style="width: 35px;height: 35px;margin-right: 0px;margin-left: 0px;">
                            </td>
                            <td class="text-center">{{items.stat_cmpt}}</td>
                            <td class="text-center">{{items.detail_repair}}</td>
                            <td class="text-center">{{items.date_input}}</td>
                            <td class="text-center">{{items.date_output}}</td>
                            <td style="width: 140px;">
                                <div class="text-center" style="width: 120px;padding-top: 0px;"><button
                                        class="btn btn-warning" data-toggle="modal" data-target="#modal_repair1"
                                        type="button" style="background-color: rgb(241,16,30);"><i
                                            class="fas fa-tools"></i>&nbsp; แจ้งซ่อม</button></div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    <tfoot>
                        <tr>
                            <td class="text-center"><strong><br>เครื่องที่<br><br></strong></td>
                            <td class="text-center"><strong><br>รูปเครื่อง<br><br></strong></td>
                            <td class="text-center"><strong><br>สถานะ<br><br></strong></td>
                            <td class="text-center"><strong><br>อาการเครื่อง<br><br></strong></td>
                            <td class="text-center"><strong><br>วันที่แจ้งซ่อม<br><br></strong></td>
                            <td class="text-center"><strong><br>วันที่รับเรื่อง<br><br></strong></td>
                            <td></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
<form action="/pcstudent/create_repair/" method="POST">
                            {% csrf_token %}
            <!-- Start: WebArt - Modal Open -->
            <div id="modal-open">
                <div class="modal fade" role="dialog" tabindex="-1" id="modal_repair1"
                    aria-labelledby="modal_repair1Label">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            
                                <div class="modal-header">
                                    <h1 class="modal-title"><i class="fas fa-cogs"></i>&nbsp; แจ้งซ่อม {{select}}
                                        เครื่องที่ {{pcs.No_cmpt}}</h1>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">×</span></button>
                                </div>
                                <div class="modal-body">
                                    <!-- Start: Bootstrap 4's Custom Radios & Checkboxes -->
                                    <div id="checkbox_field">
                                        <fieldset>
                                            <legend class="legend-title"
                                                style="margin-top: 0px;padding: 0px 0px; padding-bottom: 10px;font-size: 18px;color: #5C5959;font-weight: bold;">
                                                ปัญหาที่เกิดขึ้นกับเครื่องคอมพิวเตอร์</legend>
                                        <div class="row">
                                            <div class="col">
                                                    {% render_field F_repair %}
                                            </div>
                                        </div>
                                            {% comment %} <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" name="check_repair" id="check_repair2"
                                                            value="คอมพิวเตอร์มีเสียงร้องตอนเปิดเครื่อง"
                                                            class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="check_repair2">คอมพิวเตอร์มีเสียงร้องตอนเปิดเครื่อง</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" name="check_repair"
                                                            id="customCheckInline3" value="หน้าจอคอมพิวเตอร์เปิดไม่ติด"
                                                            class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline3">หน้าจอคอมพิวเตอร์เปิดไม่ติด</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline4"
                                                            class="custom-control-input"
                                                            value="เครื่องคอมพิวเตอร์ไม่มีโปรแกรม"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline4">เครื่องคอมพิวเตอร์ไม่มีโปรแกรม</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline5"
                                                            value="เครื่องคอมพิวเตอร์เปิดขึ้นมาแล้วไม่เข้าวินโดว์"
                                                            class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline5">เครื่องคอมพิวเตอร์เปิดขึ้นมาแล้วไม่เข้าวินโดว์</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline6"
                                                            value="เครื่องคอมพิวเตอร์โปรแกรมใช้งานไม่ได้"
                                                            class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline6">เครื่องคอมพิวเตอร์โปรแกรมใช้งานไม่ได้</label>
                                                    </div>
                                                </div>
                                            </div> {% endcomment %}
                                        </fieldset>
                                    </div>
                                    <!-- End: Bootstrap 4's Custom Radios & Checkboxes -->
                                    <!-- Start: Bootstrap 4's Custom Radios & Checkboxes -->
                                    <div>
                                        <fieldset>
                                            <legend
                                                style="margin-top: 0px;padding: 10px 0px;font-size: 18px;color: #5C5959;font-weight: bold;">
                                                ปัญหาที่เกิดขึ้นกับอุปกรณ์เครื่องคอมพิวเตอร์</legend>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline7"
                                                            value="คีย์บอร์ดเสีย" class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline7">คีย์บอร์ดเสีย</label>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline8" value="เมาส์เสีย"
                                                            class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline8">เมาส์เสีย</label></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline9" value="เมาส์หาย"
                                                            class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline9">เมาส์หาย</label></div>
                                                </div>
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline10"
                                                            value="คียบอร์ดหาย" class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline10">คียบอร์ดหาย</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline11"
                                                            value="โปรเจคเตอร์เสีย" class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline11">โปรเจคเตอร์เสีย</label>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="custom-control custom-checkbox custom-control-inline">
                                                        <input type="checkbox" id="customCheckInline12"
                                                            value="โปรเจคเตอร์ไม่ชัด"
                                                            class="custom-control-input"><label
                                                            class="custom-control-label"
                                                            for="customCheckInline12">โปรเจคเตอร์ไม่ชัด</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <!-- End: Bootstrap 4's Custom Radios & Checkboxes -->
                                    <!-- Start: Bootstrap 4's Custom Radios & Checkboxes -->
                                    <div>
                                        <fieldset>
                                            <legend style="margin-top: 0px;padding: 0px;">ปัญหาอื่นๆ
                                            </legend><input type="text" style="opacity: 0.28;width: 300px;"
                                                placeholder="ระบุปัญหา">
                                        </fieldset>
                                    </div>
                                    <!-- End: Bootstrap 4's Custom Radios & Checkboxes -->
                                </div>
                                <div>
                                    <b name="showtext" id="showtext" style="display: none;"></b>
                                </div>
                                <div class="modal-footer"><button class="btn btn-warning" data-dismiss="modal"
                                        style="background-color: rgb(69,247,98);" type="submit"
                                        onclick="getvalues()">บันทึก</button>
                                    <button class="btn btn-warning" data-dismiss="modal"
                                        style="background-color: rgb(235,48,82);" type="button">ยกเลิก</button>
                                </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            <div>
                {{txt}}
            </div>
            </form>
            <!-- End: WebArt - Modal Open -->
            <div class="row">
                <div class="col-md-6 align-self-center">
                    <p id="dataTable_info" class="dataTables_info" role="status" aria-live="polite">
                        Showing 1 to 10 of 27</p>
                </div>
                <div class="col-md-6">
                    <nav class="d-lg-flex justify-content-lg-end dataTables_paginate paging_simple_numbers">
                        <ul class="pagination">
                            <li class="page-item disabled"><a class="page-link" href="#" aria-label="Previous"><span
                                        aria-hidden="true">«</span></a></li>
                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item"><a class="page-link" href="#" aria-label="Next"><span
                                        aria-hidden="true">»</span></a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<div style="padding:10px"></div>
<script src="/static/assets/js/modal.js">
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
{% endblock %}